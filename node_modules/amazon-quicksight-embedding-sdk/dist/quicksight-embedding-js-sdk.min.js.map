{"version":3,"file":"quicksight-embedding-js-sdk.min.js","mappings":"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","sources":["webpack://amazon-quicksight-embedding-sdk/./src/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/commons/createIframe.ts","webpack://amazon-quicksight-embedding-sdk/./src/commons/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/createEmbeddingContext.ts","webpack://amazon-quicksight-embedding-sdk/./src/enums.ts","webpack://amazon-quicksight-embedding-sdk/./src/eventManager.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/commons.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/console/createConsoleFrame.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/console/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/context/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/control/createControlFrame.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/control/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/createExperienceFrame.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/dashboard/createDashboardFrame.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/dashboard/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/qsearch/createQSearchFrame.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/qsearch/index.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/visual/createVisualFrame.ts","webpack://amazon-quicksight-embedding-sdk/./src/experiences/visual/index.ts","webpack://amazon-quicksight-embedding-sdk/./node_modules/expose-loader/dist/runtime/getGlobalThis.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/punycode/punycode.es6.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/uuid/dist/esm-browser/native.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/uuid/dist/esm-browser/regex.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/uuid/dist/esm-browser/rng.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/uuid/dist/esm-browser/v4.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/uuid/dist/esm-browser/validate.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/typeof.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/regenerator/index.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://amazon-quicksight-embedding-sdk/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://amazon-quicksight-embedding-sdk/webpack/bootstrap","webpack://amazon-quicksight-embedding-sdk/webpack/runtime/compat get default export","webpack://amazon-quicksight-embedding-sdk/webpack/runtime/define property getters","webpack://amazon-quicksight-embedding-sdk/webpack/runtime/global","webpack://amazon-quicksight-embedding-sdk/webpack/runtime/hasOwnProperty shorthand","webpack://amazon-quicksight-embedding-sdk/webpack/runtime/make namespace object","webpack://amazon-quicksight-embedding-sdk/webpack/startup"],"sourcesContent":["var ___EXPOSE_LOADER_IMPORT___ = require(\"-!./index.ts\");\nvar ___EXPOSE_LOADER_GET_GLOBAL_THIS___ = require(\"../node_modules/expose-loader/dist/runtime/getGlobalThis.js\");\nvar ___EXPOSE_LOADER_GLOBAL_THIS___ = ___EXPOSE_LOADER_GET_GLOBAL_THIS___;\n___EXPOSE_LOADER_GLOBAL_THIS___[\"QuickSightEmbedding\"] = ___EXPOSE_LOADER_IMPORT___;\nmodule.exports = ___EXPOSE_LOADER_IMPORT___;\n","import {CreateIframeOptions, CreatePostRequestOptions, EmbeddingIFrameElement, PostRequest} from '../types';\n\nconst createSvgElement = (tagName: string, attributes: Record<string, string>, children: Element[] = []) => {\n    const element = document.createElementNS('http://www.w3.org/2000/svg', tagName);\n    Object.entries(attributes).forEach(([name, value]) => element.setAttribute(name, value));\n    children.forEach(child => element.appendChild(child));\n    return element;\n};\n\nconst circles: Element[] = [1, 2, 3].map(i => {\n    const animate = createSvgElement('animate', {\n        attributeName: 'opacity',\n        dur: '1s',\n        values: '0;1;0',\n        repeatCount: 'indefinite',\n        begin: `${i / 10.0}`,\n    });\n    const circle = createSvgElement(\n        'circle',\n        {\n            fill: '#ccc',\n            stroke: 'none',\n            cx: `${i * 20 - 14}`,\n            cy: '50',\n            r: '6',\n        },\n        [animate]\n    );\n    return circle;\n});\n\nconst loaderSVG = createSvgElement(\n    'svg',\n    {\n        version: '1.1',\n        x: '0px',\n        y: '0px',\n        viewBox: '0 0 100 100',\n        'enable-background': 'new 0 0 0 0',\n        style: 'width:100px; height:100px;',\n    },\n    circles\n);\n\nconst createPostRequest = (postRequestOptions: CreatePostRequestOptions): PostRequest => {\n    const {src, container, target, payload} = postRequestOptions;\n    if (!src || !container) {\n        return;\n    }\n\n    const form = document.createElement('form');\n    form.style.visibility = 'hidden';\n    form.method = 'POST';\n    form.action = src;\n    form.target = target;\n    form.name = `${target}-form`;\n\n    Object.keys(payload).forEach(payloadItem => {\n        const input = document.createElement('input');\n        input.type = 'hidden';\n        input.name = payloadItem;\n        input.value = payload[payloadItem];\n        form.appendChild(input);\n    });\n\n    container.appendChild(form);\n\n    form.submit();\n    return {\n        remove: () => {\n            form.remove();\n        },\n    };\n};\n\nconst createIframe = (options: CreateIframeOptions): EmbeddingIFrameElement | null => {\n    const {id, src, width = '0px', height = '0px', container, onLoad, loading, withIframePlaceholder, payload, className} = options;\n\n    let iframePlaceholder: HTMLDivElement;\n\n    const iframeName = id || `${container.id}-iframe`;\n\n    if (withIframePlaceholder) {\n        iframePlaceholder = document.createElement('div');\n        iframePlaceholder.id = `${iframeName}-placeholder`;\n        iframePlaceholder.style.width = width;\n        iframePlaceholder.style.backgroundColor = 'rgba(0,0,0,.01)';\n        iframePlaceholder.style.display = 'flex';\n        iframePlaceholder.style.justifyContent = 'center';\n        iframePlaceholder.style.alignItems = 'center';\n\n        if (height.endsWith('px')) {\n            iframePlaceholder.style.height = height;\n        }\n        if (typeof withIframePlaceholder !== 'boolean') {\n            iframePlaceholder.appendChild(withIframePlaceholder);\n        } else {\n            iframePlaceholder.appendChild(loaderSVG);\n        }\n        container.appendChild(iframePlaceholder);\n    }\n\n    const _className = ['quicksight-embedding-iframe'];\n    if (className) {\n        _className.push(className);\n    }\n\n    const iframe: EmbeddingIFrameElement = document.createElement('iframe');\n    iframe.className = _className.join(' ').trim();\n    iframe.id = iframeName;\n    iframe.name = iframeName;\n    iframe.width = width;\n    iframe.height = height;\n\n    if (loading) {\n        iframe.loading = loading;\n    }\n    iframe.style.border = '0px';\n    iframe.style.padding = '0px';\n\n    if (iframePlaceholder) {\n        iframe.style.opacity = '0';\n    }\n\n    if (width === '0px' && height === '0px') {\n        iframe.style.position = 'absolute';\n    }\n\n    try {\n        container.appendChild(iframe);\n    } catch (error) {\n        return null;\n    }\n\n    let postRequest: PostRequest;\n\n    if (payload) {\n        postRequest = createPostRequest({\n            src,\n            target: iframe.name,\n            container,\n            payload,\n        });\n    } else {\n        iframe.src = src;\n    }\n\n    const onLoadLocal = (event: Event) => {\n        if (iframePlaceholder) {\n            iframePlaceholder.remove();\n            iframe.style.opacity = '1';\n            iframe.style.transition = 'opacity .5s ease-in-out';\n        }\n        typeof onLoad === 'function' && onLoad(event);\n        postRequest?.remove();\n    };\n    iframe.addEventListener('load', onLoadLocal);\n\n    return iframe;\n};\n\nexport default createIframe;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {encode} from 'punycode';\nimport {BuildExperienceUrlOptions, TargetedMessageEvent, InternalExperience, PostMessageEvent, UrlInfo, ParameterValue} from '../types';\n\nconst SDK_VERSION = '2.0.3';\n\nconst FRAME_TIMEOUT = 60000;\n\nconst isMessageEvent = (messageEvent: TargetedMessageEvent): messageEvent is TargetedMessageEvent => {\n    return !!messageEvent && !!messageEvent.eventTarget && !!messageEvent.eventName;\n};\n\nconst isPostMessageEvent = (messageEvent: PostMessageEvent): messageEvent is PostMessageEvent => {\n    return !!messageEvent && !!messageEvent.eventId && !!messageEvent.eventTarget && !!messageEvent.eventName;\n};\n\nconst getUrlInfo = (url: string): UrlInfo => {\n    const matches: Array<string> = /^(https:\\/\\/[^/]+)\\/(embedding|embed)\\/([^/]+)\\/[^?]+\\?(.*)/i.exec(url) || [];\n    if (matches?.length < 4) {\n        throw `Invalid embedding url: \"${url}\"`;\n    }\n    const urlInfo: UrlInfo = {\n        guid: matches[3],\n        host: matches[1],\n        urlSearchParams: new URLSearchParams(matches[4]),\n    };\n    return urlInfo;\n};\n\nconst buildQueryString = (options: Record<string, string | number>): string => {\n    if (!options || typeof options !== 'object') {\n        return '';\n    }\n    const filteredOptions = Object.entries(options).reduce(\n        (newOptions, [key, value]) => {\n            if (value !== undefined && value !== null) {\n                newOptions[key] = `${value}`;\n            }\n            return newOptions;\n        },\n        {\n            punyCodeEmbedOrigin: encode(`${window.location.origin}/`),\n        } as Record<string, string>\n    );\n    return new URLSearchParams(filteredOptions).toString();\n};\n\nconst buildParametersString = (parameters: ParameterValue[]): string => {\n    if (!parameters || typeof parameters !== 'object') {\n        return '';\n    }\n    const processedParameters = Object.entries(parameters).map(([key, value]) => {\n        const values = [].concat(value);\n        const encodedName = encodeURIComponent(key);\n        return values\n            .map(paramValue => encodeURIComponent(paramValue))\n            .map(encodedValue => `p.${encodedName}=${encodedValue}`)\n            .join('&');\n    });\n    return processedParameters.join('&');\n};\n\nconst buildExperienceUrl = (baseUrl: URL | string, options: BuildExperienceUrlOptions = {}, internalExperience: InternalExperience) => {\n    const {parameters, ...otherOptions} = options;\n    const {contextId, discriminator} = internalExperience;\n    const fullQueryStringArray: string[] = [];\n    const queryString = buildQueryString({\n        ...otherOptions,\n        contextId,\n        discriminator,\n        clientTime: Date.now(),\n        sdkVersion: SDK_VERSION,\n    });\n    if (queryString) {\n        fullQueryStringArray.push(queryString);\n    }\n    const parametersString = buildParametersString(parameters as ParameterValue[]);\n    if (parametersString) {\n        fullQueryStringArray.push(parametersString);\n    }\n    const fullQueryString: string = fullQueryStringArray.join('#');\n    const baseUrlString = typeof baseUrl === 'string' ? baseUrl : baseUrl.toString();\n    return [baseUrlString, fullQueryString].join(baseUrlString.includes('?') ? '&' : '?');\n};\n\nconst wait = async (delay = 0): Promise<void> => {\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve();\n        }, delay);\n    });\n};\n\nexport {buildExperienceUrl, getUrlInfo, isPostMessageEvent, isMessageEvent, FRAME_TIMEOUT, wait, SDK_VERSION};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {v4} from 'uuid';\nimport eventManagerBuilder from './eventManager';\nimport {FRAME_TIMEOUT, getUrlInfo} from './commons';\nimport {ChangeEventLevel, ChangeEventName} from './enums';\nimport {\n    EmbeddingContext,\n    CreateEmbeddingContext,\n    CreateEmbeddingContextFrameOptions,\n    EmbedVisual,\n    EmbedQSearch,\n    EmbedDashboard,\n    DashboardFrame,\n    VisualFrame,\n    QSearchFrame,\n    ConsoleFrame,\n    FrameOptions,\n    VisualContentOptions,\n    DashboardContentOptions,\n    ConsoleContentOptions,\n    QSearchContentOptions,\n    EmbedConsole,\n    ControlOptions,\n} from './types';\nimport {createControlFrame} from './experiences/control';\nimport {createVisualFrame} from './experiences/visual';\nimport {createDashboardFrame} from './experiences/dashboard';\nimport {createConsoleFrame} from './experiences/console';\nimport {createQSearchFrame} from './experiences/qsearch';\n\nconst createEmbeddingContext: CreateEmbeddingContext = async (frameOptions?: CreateEmbeddingContextFrameOptions): Promise<EmbeddingContext> => {\n    const {onChange = null} = frameOptions || {};\n\n    // The contextId is shared with experiences to create a communication context\n    // Experiences with not-matching contextId is outside the communication context\n    const contextId = v4(); // '00000000-0000-0000-0000-000000000000'; //\n\n    const allExperienceIdentifiers = new Set<string>();\n\n    // The eventManager instance below is passed to all experiences to create a unified event management\n    const eventManager = eventManagerBuilder();\n\n    // body element on a page is required to embed the redeem and control frames\n    const body = document.getElementsByTagName('body')?.[0];\n    if (!body) {\n        onChange?.({\n            eventName: ChangeEventName.NO_BODY,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'could not locate <body> element in the page',\n        }, {frame: null});\n        throw new Error('could not locate <body> element in the page');\n    }\n\n    // CONTROL FRAME\n\n    let controlOptions: ControlOptions;\n    const buildControlOptions = (frameOptions: FrameOptions): ControlOptions => {\n        if (!controlOptions) {\n            const {url} = frameOptions;\n            if (!url) {\n                return;\n            }\n\n            let urlInfo;\n            try {\n                urlInfo = getUrlInfo(url);\n            } catch (error) {\n                return;\n            }\n\n            const {internalSend} = createControlFrame(\n                body,\n                {\n                    eventManager,\n                    urlInfo,\n                    contextId,\n                },\n                onChange\n            );\n            controlOptions = {\n                eventManager,\n                sendToControlFrame: internalSend,\n                contextId,\n                timeout: FRAME_TIMEOUT,\n            };\n        }\n        return controlOptions;\n    };\n\n    const validateFrameOptions = (frameOptions: FrameOptions, methodName: string) => {\n        if (!frameOptions) {\n            const errorMessage = `${methodName} is called without frameOptions`;\n            onChange?.({\n                eventName: ChangeEventName.NO_FRAME_OPTIONS,\n                eventLevel: ChangeEventLevel.ERROR,\n                message: errorMessage,\n                data: {\n                    methodName,\n                },\n            }, {frame: null});\n            throw new Error(errorMessage);\n        }\n        if (typeof frameOptions !== 'object' || Array.isArray(frameOptions)) {\n            const errorMessage = `${methodName} is called with non-object frameOptions`;\n            onChange?.({\n                eventName: ChangeEventName.INVALID_FRAME_OPTIONS,\n                eventLevel: ChangeEventLevel.ERROR,\n                message: errorMessage,\n                data: {\n                    methodName,\n                    frameOptionsType: Array.isArray(frameOptions) ? 'array' : typeof frameOptions,\n                },\n            }, {frame: null});\n            throw new Error(errorMessage);\n        }\n        const {\n            url,\n            container,\n            width,\n            height,\n            resizeHeightOnSizeChangedEvent,\n            withIframePlaceholder,\n            className,\n            onChange: onExperienceChange,\n            ...unrecognizedFrameOptions\n        } = frameOptions;\n        const unrecognizedFrameOptionNames = Object.keys(unrecognizedFrameOptions);\n        if (unrecognizedFrameOptionNames.length > 0) {\n            const warnMessage = `${methodName} is called with unrecognized properties`;\n            onExperienceChange?.({\n                eventName: ChangeEventName.UNRECOGNIZED_FRAME_OPTIONS,\n                eventLevel: ChangeEventLevel.WARN,\n                message: warnMessage,\n                data: {\n                    unrecognizedFrameOptions: unrecognizedFrameOptionNames,\n                },\n            }, {frame: null});\n            console.warn(warnMessage);\n        }\n    };\n    // EXPERIENCES\n\n    const embedVisual: EmbedVisual = async (frameOptions: FrameOptions, contentOptions: VisualContentOptions): Promise<VisualFrame> => {\n        validateFrameOptions(frameOptions, 'embedVisual');\n        const controlOptions = buildControlOptions(frameOptions);\n        return createVisualFrame(frameOptions, contentOptions, controlOptions, allExperienceIdentifiers);\n    };\n\n    const embedDashboard: EmbedDashboard = async (frameOptions: FrameOptions, contentOptions: DashboardContentOptions): Promise<DashboardFrame> => {\n        validateFrameOptions(frameOptions, 'embedDashboard');\n        const controlOptions = buildControlOptions(frameOptions);\n        return createDashboardFrame(frameOptions, contentOptions, controlOptions, allExperienceIdentifiers);\n    };\n\n    const embedConsole: EmbedConsole = async (frameOptions: FrameOptions, contentOptions: ConsoleContentOptions): Promise<ConsoleFrame> => {\n        validateFrameOptions(frameOptions, 'embedConsole');\n        const controlOptions = buildControlOptions(frameOptions);\n        return createConsoleFrame(frameOptions, contentOptions, controlOptions, allExperienceIdentifiers);\n    };\n\n    const embedQSearchBar: EmbedQSearch = async (frameOptions: FrameOptions, contentOptions: QSearchContentOptions): Promise<QSearchFrame> => {\n        validateFrameOptions(frameOptions, 'embedQSearchBar');\n        const controlOptions = buildControlOptions(frameOptions);\n        return createQSearchFrame(frameOptions, contentOptions, controlOptions, allExperienceIdentifiers);\n    };\n\n    const embeddingContext: EmbeddingContext = {\n        embedVisual,\n        embedDashboard,\n        embedConsole,\n        embedQSearchBar,\n    };\n\n    return embeddingContext;\n};\n\nexport default createEmbeddingContext;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport enum InfoMessageEventName {\n    CONTENT_LOADED = 'CONTENT_LOADED',\n    ERROR_OCCURRED = 'ERROR_OCCURRED',\n    SIZE_CHANGED = 'SIZE_CHANGED',\n    PARAMETERS_CHANGED = 'PARAMETERS_CHANGED',\n    SELECTED_SHEET_CHANGED = 'SELECTED_SHEET_CHANGED',\n    MODAL_OPENED = 'MODAL_OPENED',\n    Q_SEARCH_CLOSED = 'Q_SEARCH_CLOSED',\n    Q_SEARCH_OPENED = 'Q_SEARCH_OPENED',\n    Q_SEARCH_SIZE_CHANGED = 'Q_SEARCH_SIZE_CHANGED',\n}\n\nexport enum SetterMessageEventName {\n    SET_PARAMETERS = 'SET_PARAMETERS',\n    SET_SELECTED_SHEET_ID = 'SET_SELECTED_SHEET_ID',\n    SET_Q_SEARCH_QUESTION = 'SET_Q_SEARCH_QUESTION',\n}\n\nexport enum GetterMessageEventName {\n    GET_PARAMETERS = 'GET_PARAMETERS',\n    GET_SHEETS = 'GET_SHEETS',\n    GET_SELECTED_SHEET_ID = 'GET_SELECTED_SHEET_ID',\n}\n\nexport enum InvokerMessageEventName {\n    ACKNOWLEDGE = 'ACKNOWLEDGE',\n    INITIATE_PRINT = 'INITIATE_PRINT',\n    NAVIGATE_TO_DASHBOARD = 'NAVIGATE_TO_DASHBOARD',\n    CLOSE_Q_SEARCH = 'CLOSE_Q_SEARCH',\n    UNDO = 'UNDO',\n    REDO = 'REDO',\n    RESET = 'RESET',\n}\n\nexport const MessageEventName = {...InfoMessageEventName, ...SetterMessageEventName, ...GetterMessageEventName, ...InvokerMessageEventName};\nexport type MessageEventName = keyof typeof MessageEventName;\n\nexport enum ChangeEventLevel {\n    ERROR = 'ERROR',\n    INFO = 'INFO',\n    WARN = 'WARN',\n}\n\nexport enum InfoChangeEventName {\n    FRAME_STARTED = 'FRAME_STARTED',\n    FRAME_MOUNTED = 'FRAME_MOUNTED',\n    FRAME_LOADED = 'FRAME_LOADED',\n}\n\nexport enum ErrorChangeEventName {\n    FRAME_NOT_CREATED = 'FRAME_NOT_CREATED',\n    NO_BODY = 'NO_BODY',\n    NO_CONTAINER = 'NO_CONTAINER',\n    INVALID_CONTAINER = 'INVALID_CONTAINER',\n    NO_URL = 'NO_URL',\n    INVALID_URL = 'INVALID_URL',\n    NO_FRAME_OPTIONS = 'NO_FRAME_OPTIONS',\n    INVALID_FRAME_OPTIONS = 'INVALID_FRAME_OPTIONS',\n}\n\nexport enum WarnChangeEventName {\n    UNRECOGNIZED_CONTENT_OPTIONS = 'UNRECOGNIZED_CONTENT_OPTIONS',\n    UNRECOGNIZED_FRAME_OPTIONS = 'UNRECOGNIZED_FRAME_OPTIONS',\n    UNRECOGNIZED_EVENT_TARGET = 'UNRECOGNIZED_EVENT_TARGET',\n}\n\nexport const ChangeEventName = {...InfoChangeEventName, ...ErrorChangeEventName, ...WarnChangeEventName};\nexport type ChangeEventName = keyof typeof ChangeEventName;\n\nexport enum ExperienceType {\n    CONSOLE = 'CONSOLE',\n    CONTEXT = 'CONTEXT',\n    CONTROL = 'CONTROL',\n    VISUAL = 'VISUAL',\n    DASHBOARD = 'DASHBOARD',\n    QSEARCH = 'QSEARCH',\n}\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {EventManager, ExperienceEventListener, SimpleMessageEventHandler, TargetedMessageEvent} from './types';\n\nconst eventManagerBuilder = (): EventManager => {\n    const eventListeners = new Map();\n\n    const addEventListener = (experienceIdentifier: string, listener: SimpleMessageEventHandler): void => {\n        if (!experienceIdentifier) {\n            return;\n        }\n        if (typeof listener !== 'function') {\n            return;\n        }\n        if (!eventListeners.has(experienceIdentifier)) {\n            eventListeners.set(experienceIdentifier, []);\n        }\n        const experienceIdentifierSpecificListeners = eventListeners.get(experienceIdentifier);\n        experienceIdentifierSpecificListeners.push(listener);\n    };\n\n    const invokeEventListener = (experienceIdentifier: string, data: TargetedMessageEvent): void => {\n        if (!eventListeners.has(experienceIdentifier)) {\n            return;\n        }\n        const experienceIdentifierSpecificListeners = eventListeners.get(experienceIdentifier);\n        experienceIdentifierSpecificListeners.forEach((listener: SimpleMessageEventHandler) => {\n            listener(data);\n        });\n    };\n\n    const removeEventListener = (experienceIdentifier: string, listener: SimpleMessageEventHandler): void => {\n        if (!eventListeners.has(experienceIdentifier)) {\n            return;\n        }\n        const experienceIdentifierSpecificListeners = eventListeners.get(experienceIdentifier);\n        const remainingListeners = experienceIdentifierSpecificListeners.filter(\n            (listenerItem: SimpleMessageEventHandler) => listenerItem !== listener\n        );\n        eventListeners.set(experienceIdentifier, remainingListeners);\n    };\n\n    const experienceEventListenerBuilder = (experienceIdentifier: string, onMessage?: SimpleMessageEventHandler): ExperienceEventListener => {\n        const addExperienceEventListener = (listener: SimpleMessageEventHandler) => {\n            return addEventListener(experienceIdentifier, listener);\n        };\n        if (onMessage) {\n            addExperienceEventListener(onMessage);\n        }\n        return {\n            addExperienceEventListener,\n            invokeExperienceEventListener: (data: TargetedMessageEvent) => {\n                return invokeEventListener(experienceIdentifier, data);\n            },\n            removeExperienceEventListener: (listener: SimpleMessageEventHandler) => {\n                return removeEventListener(experienceIdentifier, listener);\n            },\n        };\n    };\n\n    return {\n        addEventListener,\n        invokeEventListener,\n        removeEventListener,\n        experienceEventListenerBuilder,\n    };\n};\n\nexport default eventManagerBuilder;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {getVisualExperienceIdentifier, isVisualExperience} from './visual';\nimport {getConsoleExperienceIdentifier, isConsoleExperience} from './console';\nimport {getContextExperienceIdentifier, isContextExperience} from './context';\nimport {getControlExperienceIdentifier, isControlExperience} from './control';\nimport {getDashboardExperienceIdentifier, isDashboardExperience} from './dashboard';\nimport {getQSearchExperienceIdentifier, isQSearchExperience} from './qsearch';\nimport {Experience, InternalExperience} from '../types';\n\nconst getExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!experience) {\n        throw new Error('No experience provided');\n    }\n    if (isVisualExperience(experience)) {\n        return getVisualExperienceIdentifier(experience);\n    } else if (isDashboardExperience(experience)) {\n        return getDashboardExperienceIdentifier(experience);\n    } else if (isConsoleExperience(experience)) {\n        return getConsoleExperienceIdentifier(experience);\n    } else if (isContextExperience(experience)) {\n        return getContextExperienceIdentifier(experience);\n    } else if (isQSearchExperience(experience)) {\n        return getQSearchExperienceIdentifier(experience);\n    } else if (isControlExperience(experience)) {\n        return getControlExperienceIdentifier(experience);\n    }\n    throw new Error('Cannot create experience identifier for the experience');\n};\n\nconst buildInternalExperienceInfo = (\n    experience: Experience,\n    allExperienceIdentifiers: Set<string>,\n    contextId: string,\n    getExperienceIdentifier: (internalExperience: InternalExperience) => string\n) => {\n    let discriminator = -1;\n    let internalExperience: InternalExperience;\n    let experienceIdentifier: string;\n    do {\n        discriminator++;\n        internalExperience = {\n            ...experience,\n            contextId,\n            discriminator,\n        };\n        experienceIdentifier = getExperienceIdentifier(internalExperience);\n    } while (allExperienceIdentifiers.has(experienceIdentifier));\n    if (!experienceIdentifier) {\n        return;\n    }\n    allExperienceIdentifiers.add(experienceIdentifier);\n    return {\n        experienceIdentifier,\n        internalExperience,\n    };\n};\n\nexport {buildInternalExperienceInfo, getExperienceIdentifier};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n    ControlOptions,\n    TargetedMessageEvent,\n    ConsoleContentOptions,\n    ConsoleFrame,\n    TransformedConsoleContentOptions,\n    FrameOptions,\n    SimpleMessageEvent,\n} from '../../types';\nimport {ChangeEventLevel, ChangeEventName} from '../../enums';\nimport createExperienceFrame from '../createExperienceFrame';\nimport {extractConsoleExperienceFromUrl, getConsoleExperienceIdentifier} from '.';\nimport {buildInternalExperienceInfo} from '../commons';\n\nconst createConsoleFrame = (\n    frameOptions: FrameOptions,\n    contentOptions: ConsoleContentOptions,\n    controlOptions: ControlOptions,\n    allExperienceIdentifiers: Set<string>\n): ConsoleFrame => {\n    const {url, onChange} = frameOptions;\n    const {contextId} = controlOptions || {};\n\n    if (!url) {\n        const message = 'Url is required for the experience';\n        onChange?.({\n            eventName: ChangeEventName.NO_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message,\n        }, {frame: null});\n        throw new Error(message);\n    }\n\n    const experienceFromUrl = extractConsoleExperienceFromUrl(url);\n    if (!experienceFromUrl) {\n        onChange?.({\n            eventName: ChangeEventName.INVALID_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Invalid console experience url',\n            data: {\n                url,\n            },\n        }, {frame: null});\n        throw new Error('Invalid console experience url');\n    }\n    const {experienceIdentifier, internalExperience} = buildInternalExperienceInfo(\n        experienceFromUrl,\n        allExperienceIdentifiers,\n        contextId,\n        getConsoleExperienceIdentifier\n    );\n\n    // We add content options into the query string of the iframe url.\n    // Some option names do not match option names that the static content expects\n    // This function converts the property names to the query string parameters that the static content expects\n    const transformContentOptions = (contentOptions: ConsoleContentOptions): TransformedConsoleContentOptions => {\n        const {\n            locale,\n            onMessage,\n            ...unrecognizedContentOptions\n        } = contentOptions;\n\n        const unrecognizedContentOptionNames = Object.keys(unrecognizedContentOptions);\n        if (Object.keys(unrecognizedContentOptions).length > 0) {\n            onChange?.({\n                eventName: ChangeEventName.UNRECOGNIZED_CONTENT_OPTIONS,\n                eventLevel: ChangeEventLevel.WARN,\n                message: 'Console content options contain unrecognized properties',\n                data: {\n                    unrecognizedContentOptions: unrecognizedContentOptionNames,\n                },\n            }, {frame: null});\n            console.warn('Console content options contain unrecognized properties');\n        }\n\n        const transformedContentOptions: TransformedConsoleContentOptions = {\n            locale,\n            onMessage,\n        };\n\n        return transformedContentOptions;\n    };\n\n    const experienceFrame = createExperienceFrame(\n        frameOptions,\n        transformContentOptions(contentOptions),\n        controlOptions,\n        internalExperience,\n        experienceIdentifier\n    );\n\n    const _send = async (messageEvent: SimpleMessageEvent): Promise<any> => {\n        const targetedMessageEvent: TargetedMessageEvent = {\n            ...messageEvent,\n            eventTarget: internalExperience,\n        };\n        const messageResponse = await experienceFrame.internalSend(targetedMessageEvent);\n        return messageResponse;\n    };\n\n    return {\n        send: _send,\n        addEventListener: experienceFrame.internalAddEventListener,\n    };\n};\n\nexport default createConsoleFrame;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {InternalExperience, ConsoleExperience, InternalConsoleExperience} from '../../types';\nimport {ExperienceType} from '../../enums';\nimport createConsoleFrame from './createConsoleFrame';\n\nconst isConsoleExperience = (experience: InternalExperience): experience is InternalConsoleExperience => {\n    return !!experience && experience.experienceType === ExperienceType.CONSOLE;\n};\n\nconst extractConsoleExperienceFromUrl = (url: string): ConsoleExperience => {\n    const matches: Array<string> =\n        /^https:\\/\\/[^/]+\\/embedding\\/[^/]+\\/(start(\\/(favorites|dashboards|analyses))?|dashboards\\/[\\w-]+|analyses\\/[\\w-]+)(\\?|$)/i.exec(url) || [];\n    if (matches.length < 5) {\n        return;\n    }\n    return {\n        experienceType: ExperienceType.CONSOLE,\n    };\n};\n\nconst getConsoleExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!isConsoleExperience(experience)) {\n        return;\n    }\n    const {contextId, experienceType, discriminator} = experience;\n    return [contextId, experienceType, discriminator].filter(Boolean).join('-');\n};\n\nexport {createConsoleFrame, extractConsoleExperienceFromUrl, getConsoleExperienceIdentifier, isConsoleExperience};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {InternalContextExperience, InternalExperience} from '../../types';\nimport {ExperienceType} from '../../enums';\n\nconst isContextExperience = (experience: InternalExperience): experience is InternalContextExperience => {\n    return !!experience && experience.experienceType === ExperienceType.CONTEXT;\n};\n\nconst getContextExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!isContextExperience(experience)) {\n        return;\n    }\n    const {contextId, experienceType, discriminator} = experience;\n    return [contextId, experienceType, discriminator].filter(Boolean).join('-');\n};\n\nexport {getContextExperienceIdentifier, isContextExperience};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {FRAME_TIMEOUT, isMessageEvent} from '../../commons';\nimport createExperienceFrame from '../createExperienceFrame';\nimport {ChangeEventLevel, ExperienceType, MessageEventName, ChangeEventName} from '../../enums';\nimport {\n    ControlFrame,\n    ControlOptions,\n    SimpleChangeEventHandler,\n    TargetedMessageEvent,\n    SimpleMessageEventHandler,\n    Experience,\n    InternalExperience,\n} from '../../types';\nimport {getControlExperienceBaseUrl, getControlExperienceIdentifier} from '.';\nimport {getExperienceIdentifier} from '../commons';\n\nconst createControlFrame = (\n    container: HTMLBodyElement,\n    controlOptions: ControlOptions,\n    onChange?: SimpleChangeEventHandler,\n    onMessage?: SimpleMessageEventHandler\n): ControlFrame => {\n    const {eventManager, urlInfo, contextId} = controlOptions;\n\n    const experience: Experience = {\n        experienceType: ExperienceType.CONTROL,\n    };\n    const internalExperience: InternalExperience = {\n        ...experience,\n        contextId,\n        discriminator: 0,\n    };\n\n    const controlUrl = getControlExperienceBaseUrl(experience, urlInfo).href;\n\n    const {experienceEventListenerBuilder, invokeEventListener} = eventManager;\n    const experienceIdentifier = getControlExperienceIdentifier(internalExperience);\n    experienceEventListenerBuilder(experienceIdentifier, onMessage);\n\n    const {internalSend, frame} = createExperienceFrame(\n        {\n            url: controlUrl,\n            container,\n            width: '0px',\n            height: '0px',\n            onChange,\n        },\n        {\n            onMessage,\n        },\n        {\n            eventManager,\n            contextId,\n            timeout: FRAME_TIMEOUT,\n            urlInfo,\n        },\n        internalExperience,\n        experienceIdentifier\n    );\n\n    const sendAcknowledgment = (messageEvent: TargetedMessageEvent) => {\n        const acknowledgment = {\n            eventName: MessageEventName.ACKNOWLEDGE,\n            eventTarget: internalExperience,\n            message: {\n                eventName: messageEvent.eventName,\n                eventTarget: messageEvent.eventTarget,\n            },\n        };\n        window.requestIdleCallback?.(() => internalSend(acknowledgment)) || internalSend(acknowledgment);\n    };\n\n    const messageListener = (event: MessageEvent) => {\n        const _messageEvent = event.data;\n        if (isMessageEvent(_messageEvent)) {\n            try {\n                const incomingExperienceIdentifier = getExperienceIdentifier(_messageEvent.eventTarget);\n                invokeEventListener(incomingExperienceIdentifier, _messageEvent);\n                sendAcknowledgment(_messageEvent);\n            } catch (error) {\n                onChange?.({\n                    eventName: ChangeEventName.UNRECOGNIZED_EVENT_TARGET,\n                    eventLevel: ChangeEventLevel.WARN,\n                    message: 'Message with unrecognized event target received',\n                    data: {\n                        eventTarget: _messageEvent.eventTarget,\n                    },\n                }, {frame});\n                console.warn('Message with unrecognized event target received');\n            }\n        }\n    };\n    window.addEventListener('message', messageListener);\n\n    return {\n        internalSend,\n    };\n};\n\nexport default createControlFrame;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {Experience, InternalControlExperience, InternalExperience, UrlInfo} from '../../types';\nimport {ExperienceType} from '../../enums';\nimport createControlFrame from './createControlFrame';\n\nconst isControlExperience = (experience: InternalExperience): experience is InternalControlExperience => {\n    return !!experience && experience.experienceType === ExperienceType.CONTROL;\n};\n\nconst getControlExperienceBaseUrl = (_experience: Experience, urlInfo: UrlInfo): URL => {\n    const {host, guid} = urlInfo;\n    const urlString = `${host}/embed/${guid}/embedControl`;\n    return new URL(urlString);\n};\n\nconst getControlExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!isControlExperience(experience)) {\n        return;\n    }\n    const {contextId, experienceType, discriminator} = experience;\n    return [contextId, experienceType, discriminator].filter(Boolean).join('-');\n};\n\nexport {createControlFrame, getControlExperienceBaseUrl, getControlExperienceIdentifier, isControlExperience};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {v4} from 'uuid';\nimport {buildExperienceUrl, FRAME_TIMEOUT, SDK_VERSION} from '../commons';\nimport createIframe from '../commons/createIframe';\nimport {ChangeEventLevel, MessageEventName, ChangeEventName} from '../enums';\nimport {\n    BuildExperienceUrlOptions,\n    ContentOptions,\n    ControlOptions,\n    TargetedMessageEvent,\n    SimpleMessageEventHandler,\n    ExperienceFrame,\n    FrameOptions,\n    InterceptMessage,\n    InternalExperience,\n    PostMessageEvent,\n    ExperienceFrameMetadata,\n    EmbeddingIFrameElement,\n    SimpleMessageEvent,\n    SimpleChangeEvent,\n} from '../types';\n\nconst MESSAGE_RESPONSE_TIMEOUT = 5000;\n\nconst createExperienceFrame = (\n    frameOptions: FrameOptions,\n    contentOptions: ContentOptions,\n    controlOptions: ControlOptions,\n    internalExperience: InternalExperience,\n    experienceIdentifier: string,\n    interceptMessage?: InterceptMessage\n): ExperienceFrame => {\n    const {url, container, width = '100%', height = '100%', withIframePlaceholder, className, onChange} = frameOptions;\n\n    let experienceIframe: EmbeddingIFrameElement | null = null;\n\n    // Decorate change event listener with experience frame's metadata\n    const _onChange = (changeEvent: SimpleChangeEvent) => {\n        if (typeof onChange !== 'function') {\n            return;\n        }\n        const metadata: ExperienceFrameMetadata = {\n            frame: experienceIframe,\n        };\n        onChange(changeEvent, metadata);\n    };\n\n    // Make sure container is provided\n\n    if (!container) {\n        const message = 'Container is required for the experience';\n        _onChange({\n            eventName: ChangeEventName.NO_CONTAINER,\n            eventLevel: ChangeEventLevel.ERROR,\n            message,\n            data: {\n                experience: internalExperience,\n            },\n        });\n        throw new Error(message);\n    }\n\n    let _container: HTMLElement;\n    if (typeof container === 'string') {\n        try {\n            _container = document.querySelector(container);\n        } catch (error) {\n            const {message} = error as Error;\n            _onChange({\n                eventName: ChangeEventName.INVALID_CONTAINER,\n                eventLevel: ChangeEventLevel.ERROR,\n                message,\n                data: {\n                    experience: internalExperience,\n                },\n            });\n            throw error;\n        }\n    } else if (typeof container === 'object' && container.nodeName) {\n        _container = container;\n    }\n\n    if (!_container) {\n        const message = `Invalid container '${container}' for the experience`;\n        _onChange({\n            eventName: ChangeEventName.INVALID_CONTAINER,\n            eventLevel: ChangeEventLevel.ERROR,\n            message,\n            data: {\n                experience: internalExperience,\n            },\n        });\n        throw new Error(message);\n    }\n\n    const {eventManager, sendToControlFrame, timeout = FRAME_TIMEOUT} = controlOptions;\n\n    const {onMessage, ...contentOptionsWithoutOnMessage} = contentOptions || {};\n\n    const {experienceEventListenerBuilder} = eventManager;\n\n    // Decorate message event listener with experience frame's metadata\n    const _onMessage = (messageEvent: SimpleMessageEvent) => {\n        const metadata: ExperienceFrameMetadata = {\n            frame: experienceIframe,\n        };\n        // Intercepting onMessage\n        interceptMessage && interceptMessage(messageEvent, metadata);\n        onMessage?.(messageEvent, metadata);\n    };\n\n    const {addExperienceEventListener, removeExperienceEventListener} = experienceEventListenerBuilder(experienceIdentifier, _onMessage);\n\n    let _url: string;\n\n    // Make sure url is provided\n\n    if (url) {\n        _url = buildExperienceUrl(url, contentOptionsWithoutOnMessage as BuildExperienceUrlOptions, internalExperience);\n    } else {\n        _onChange({\n            eventName: ChangeEventName.NO_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Url is required for the experience',\n            data: {\n                experience: internalExperience,\n            },\n        });\n        throw new Error('Url is required for the experience');\n    }\n\n    // Start creating the frame\n\n    const sendToOwnFrame = async (messageEvent: TargetedMessageEvent) => {\n        const eventId = v4();\n        const _message: PostMessageEvent = {\n            ...messageEvent,\n            eventId,\n            timestamp: Date.now(),\n            version: SDK_VERSION,\n        };\n\n        experienceIframe.contentWindow.postMessage(_message, _url);\n\n        if (messageEvent.eventName === MessageEventName.ACKNOWLEDGE) {\n            return Promise.resolve({\n                success: true,\n            });\n        }\n\n        return new Promise((resolve, reject) => {\n            const eventHandler = (event: MessageEvent) => {\n                const responseMessageEvent = event.data;\n                if (responseMessageEvent.eventId === eventId) {\n                    window.removeEventListener('message', eventHandler);\n                    resolve(event.data.message);\n                }\n            };\n            window.addEventListener('message', eventHandler);\n            setTimeout(() => {\n                window.removeEventListener('message', eventHandler);\n                reject();\n            }, MESSAGE_RESPONSE_TIMEOUT);\n        });\n    };\n\n    const internalSend = async (messageEvent: TargetedMessageEvent) => {\n        const sendMethod = sendToControlFrame || sendToOwnFrame;\n        return sendMethod(messageEvent);\n    };\n\n    let timeoutInstance: NodeJS.Timeout;\n\n    timeoutInstance = setTimeout(() => {\n        _onChange({\n            eventName: ChangeEventName.FRAME_NOT_CREATED,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Creating the frame timed out',\n            data: {\n                experience: internalExperience,\n            },\n        });\n        throw new Error('Creating the frame timed out');\n    }, timeout);\n\n    const onLoadHandler = async () => {\n        if (timeoutInstance) {\n            clearTimeout(timeoutInstance);\n        }\n        _onChange({\n            eventName: ChangeEventName.FRAME_LOADED,\n            eventLevel: ChangeEventLevel.INFO,\n            message: 'The frame loaded',\n            data: {\n                experience: internalExperience,\n            },\n        });\n    };\n\n    // Create the iframe\n\n    _onChange({\n        eventName: ChangeEventName.FRAME_STARTED,\n        eventLevel: ChangeEventLevel.INFO,\n        message: 'Creating the frame',\n        data: {\n            experience: internalExperience,\n        },\n    });\n\n    experienceIframe = createIframe({\n        id: experienceIdentifier,\n        src: _url,\n        width,\n        height,\n        container: _container,\n        onLoad: onLoadHandler,\n        withIframePlaceholder,\n        className,\n    });\n\n    if (!experienceIframe) {\n        _onChange({\n            eventName: ChangeEventName.FRAME_NOT_CREATED,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Failed to create the frame',\n            data: {\n                experience: internalExperience,\n            },\n        });\n        throw new Error('Failed to create the frame');\n    }\n\n    _onChange({\n        eventName: ChangeEventName.FRAME_MOUNTED,\n        eventLevel: ChangeEventLevel.INFO,\n        message: 'The frame mounted',\n        data: {\n            frame: experienceIframe,\n            experience: internalExperience,\n        },\n    });\n\n    const internalAddEventListener = (eventName: MessageEventName, listener: SimpleMessageEventHandler) => {\n        const handler = (messageEvent: SimpleMessageEvent, metadata: ExperienceFrameMetadata) => {\n            if (messageEvent.eventName === eventName) {\n                listener(messageEvent, metadata);\n            }\n        };\n        addExperienceEventListener(handler);\n        return {\n            remove: () => {\n                removeExperienceEventListener(handler);\n            },\n        };\n    };\n\n    const self: ExperienceFrame = {\n        internalAddEventListener,\n        internalSend,\n        frame: experienceIframe,\n    };\n\n    return self;\n};\n\nexport default createExperienceFrame;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n    ControlOptions,\n    DashboardContentOptions,\n    DashboardFrame,\n    TargetedMessageEvent,\n    ExperienceFrameMetadata,\n    ExportToolbarOption,\n    FrameOptions,\n    NavigateToDashboardOptions,\n    ResponseMessage,\n    SimpleMessageEvent,\n    TransformedDashboardContentOptions,\n    Sheet,\n    Parameter,\n    ParametersAsObject,\n} from '../../types';\nimport {ChangeEventLevel, MessageEventName, ChangeEventName} from '../../enums';\nimport createExperienceFrame from '../createExperienceFrame';\nimport {extractDashboardExperienceFromUrl, getDashboardExperienceIdentifier} from '.';\nimport {buildInternalExperienceInfo} from '../commons';\n\nconst createDashboardFrame = (\n    frameOptions: FrameOptions,\n    contentOptions: DashboardContentOptions,\n    controlOptions: ControlOptions,\n    allExperienceIdentifiers: Set<string>\n): DashboardFrame => {\n    const {url, onChange} = frameOptions;\n    const {contextId} = controlOptions || {};\n\n    if (!url) {\n        const message = 'Url is required for the experience';\n        onChange?.({\n            eventName: ChangeEventName.NO_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message,\n        }, {frame: null});\n        throw new Error(message);\n    }\n\n    const experienceFromUrl = extractDashboardExperienceFromUrl(url);\n    if (!experienceFromUrl) {\n        onChange?.({\n            eventName: ChangeEventName.INVALID_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Invalid dashboard experience url',\n            data: {\n                url,\n            },\n        }, {frame: null});\n        throw new Error('Invalid dashboard experience url');\n    }\n    const {experienceIdentifier, internalExperience} = buildInternalExperienceInfo(\n        experienceFromUrl,\n        allExperienceIdentifiers,\n        contextId,\n        getDashboardExperienceIdentifier\n    );\n\n    const {resizeHeightOnSizeChangedEvent} = frameOptions;\n\n    const interceptMessage = (messageEvent: SimpleMessageEvent, metadata: ExperienceFrameMetadata) => {\n        // Intercepting onMessage\n        // if the resizeHeightOnSizeChangedEvent is true, upon receiving SIZE_CHANGED message, update the height of the iframe\n        if (messageEvent.eventName === 'SIZE_CHANGED' && resizeHeightOnSizeChangedEvent) {\n            metadata.frame.height = `${messageEvent.message.height}px`;\n        }\n    };\n\n    // We add content options into the query string of the iframe url.\n    // Some option names do not match option names that the static content expects\n    // This function converts the property names to the query string parameters that the static content expects\n    const transformContentOptions = (contentOptions: DashboardContentOptions = {}): TransformedDashboardContentOptions => {\n        const {\n            parameters,\n            locale,\n            attributionOptions,\n            sheetOptions,\n            toolbarOptions,\n            onMessage,\n            ...unrecognizedContentOptions\n        } = contentOptions;\n\n        const unrecognizedContentOptionNames = Object.keys(unrecognizedContentOptions);\n        if (unrecognizedContentOptionNames.length > 0) {\n            const warnMessage = 'Dashboard content options contain unrecognized properties';\n            onChange?.({\n                eventName: ChangeEventName.UNRECOGNIZED_CONTENT_OPTIONS,\n                eventLevel: ChangeEventLevel.WARN,\n                message: warnMessage,\n                data: {\n                    unrecognizedContentOptions: unrecognizedContentOptionNames,\n                },\n            }, {frame: null});\n            console.warn(warnMessage);\n        }\n\n        const transformedContentOptions: TransformedDashboardContentOptions = {\n            locale,\n            onMessage,\n        };\n\n        if (parameters) {\n            transformedContentOptions.parameters = parameters.reduce((parametersAsObject: ParametersAsObject, parameter: Parameter) => {\n                parametersAsObject[parameter.Name] = parameter.Values;\n                return parametersAsObject;\n            }, {});\n        }\n        \n        if (attributionOptions?.overlayContent !== true) {\n            transformedContentOptions.footerPaddingEnabled = true;\n        }\n\n        if (toolbarOptions?.export === true || (toolbarOptions?.export as ExportToolbarOption)?.print === true) {\n            transformedContentOptions.printEnabled = true;\n        }\n        if (toolbarOptions?.undoRedo !== true) {\n            transformedContentOptions.undoRedoDisabled = true;\n        }\n        if (toolbarOptions?.reset !== true) {\n            transformedContentOptions.resetDisabled = true;\n        }\n\n        if (sheetOptions?.initialSheetId) {\n            transformedContentOptions.sheetId = sheetOptions.initialSheetId;\n        }\n        if (typeof sheetOptions?.singleSheet === 'boolean') {\n            transformedContentOptions.sheetTabsDisabled = sheetOptions.singleSheet;\n        }\n        if (sheetOptions?.emitSizeChangedEventOnSheetChange === true) {\n            transformedContentOptions.resizeOnSheetChange = true;\n        }\n\n        return transformedContentOptions;\n    };\n\n    const experienceFrame = createExperienceFrame(\n        frameOptions,\n        transformContentOptions(contentOptions),\n        controlOptions,\n        internalExperience,\n        experienceIdentifier,\n        interceptMessage\n    );\n\n    const _send = async (messageEvent: SimpleMessageEvent): Promise<any> => {\n        const targetedMessageEvent: TargetedMessageEvent = {\n            ...messageEvent,\n            eventTarget: internalExperience,\n        };\n        const messageResponse = await experienceFrame.internalSend(targetedMessageEvent);\n        return messageResponse;\n    };\n\n    const _setParameters = async (parameters: Parameter[]): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.SET_PARAMETERS,\n            message: parameters,\n        });\n    };\n\n    const _initiatePrint = async (): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.INITIATE_PRINT,\n        });\n    };\n\n    const _undo = async (): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.UNDO,\n        });\n    };\n\n    const _redo = async (): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.REDO,\n        });\n    };\n\n    const _reset = async (): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.RESET,\n        });\n    };\n\n    const _getParameters = async (): Promise<Parameter[]> => {\n        return _send({\n            eventName: MessageEventName.GET_PARAMETERS,\n        });\n    };\n\n    const _getSheets = async (): Promise<Sheet[]> => {\n        return _send({\n            eventName: MessageEventName.GET_SHEETS,\n        });\n    };\n\n    const _getSelectedSheetId = async (): Promise<string> => {\n        return _send({\n            eventName: MessageEventName.GET_SELECTED_SHEET_ID,\n        });\n    };\n\n    const _navigateToDashboard = async (dashboardId: string, navigateToDashboardOptions: NavigateToDashboardOptions): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.NAVIGATE_TO_DASHBOARD,\n            message: {\n                DashboardId: dashboardId,\n                Parameters: navigateToDashboardOptions.parameters,\n            }\n        });\n    };\n\n    const _setSelectedSheetId = async (sheetId: string): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.SET_SELECTED_SHEET_ID,\n            message: {\n                SheetId: sheetId,\n            },\n        });\n    };\n\n    return {\n        getParameters: _getParameters,\n        getSheets: _getSheets,\n        getSelectedSheetId: _getSelectedSheetId,\n        initiatePrint: _initiatePrint,\n        navigateToDashboard: _navigateToDashboard,\n        setSelectedSheetId: _setSelectedSheetId,\n        setParameters: _setParameters,\n        undo: _undo,\n        redo: _redo,\n        reset: _reset,\n        send: _send,\n        addEventListener: experienceFrame.internalAddEventListener,\n    };\n};\n\nexport default createDashboardFrame;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {DashboardExperience, InternalDashboardExperience, InternalExperience} from '../../types';\nimport {ExperienceType} from '../../enums';\nimport createDashboardFrame from './createDashboardFrame';\n\nconst isDashboardExperience = (experience: InternalExperience): experience is InternalDashboardExperience => {\n    return !!experience && experience.experienceType === ExperienceType.DASHBOARD;\n};\n\nconst extractDashboardExperienceFromUrl = (url: string): DashboardExperience => {\n    const matches: Array<string> = /^https:\\/\\/[^/]+\\/embed\\/[^/]+\\/dashboards\\/([\\w-]+)(\\?|$)/i.exec(url) || [];\n    if (matches.length < 3) {\n        return;\n    }\n    return {\n        experienceType: ExperienceType.DASHBOARD,\n        dashboardId: matches[1],\n    };\n};\n\nconst getDashboardExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!isDashboardExperience(experience)) {\n        return;\n    }\n    const {contextId, experienceType, dashboardId, discriminator} = experience;\n    return [contextId, experienceType, dashboardId, discriminator].filter(Boolean).join('-');\n};\n\nexport {createDashboardFrame, extractDashboardExperienceFromUrl, getDashboardExperienceIdentifier, isDashboardExperience};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n    ControlOptions,\n    TargetedMessageEvent,\n    ExperienceFrameMetadata,\n    FrameOptions,\n    QSearchContentOptions,\n    QSearchFrame,\n    ResponseMessage,\n    SimpleMessageEvent,\n    TransformedQSearchContentOptions,\n} from '../../types';\nimport {ChangeEventLevel, MessageEventName, ChangeEventName} from '../../enums';\nimport createExperienceFrame from '../createExperienceFrame';\nimport {extractQSearchExperienceFromUrl, getQSearchExperienceIdentifier} from '.';\nimport {buildInternalExperienceInfo} from '../commons';\n\nconst createQSearchFrame = (\n    frameOptions: FrameOptions,\n    contentOptions: QSearchContentOptions,\n    controlOptions: ControlOptions,\n    allExperienceIdentifiers: Set<string>\n): QSearchFrame => {\n    const {url, onChange} = frameOptions;\n    const {contextId} = controlOptions || {};\n\n    if (!url) {\n        const message = 'Url is required for the experience';\n        onChange?.({\n            eventName: ChangeEventName.NO_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message,\n        }, {frame: null});\n        throw new Error(message);\n    }\n\n    const experienceFromUrl = extractQSearchExperienceFromUrl(url);\n    if (!experienceFromUrl) {\n        onChange?.({\n            eventName: ChangeEventName.INVALID_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Invalid q search experience url',\n            data: {\n                url,\n            },\n        }, {frame: null});\n        throw new Error('Invalid q search experience url');\n    }\n    const {experienceIdentifier, internalExperience} = buildInternalExperienceInfo(\n        experienceFromUrl,\n        allExperienceIdentifiers,\n        contextId,\n        getQSearchExperienceIdentifier\n    );\n\n    const interceptMessage = (messageEvent: SimpleMessageEvent, metadata: ExperienceFrameMetadata) => {\n        // Intercepting onMessage\n        // if the resizeHeightOnSizeChangedEvent is true, upon receiving SIZE_CHANGED message, update the height of the iframe\n        if (['Q_SEARCH_OPENED', 'Q_SEARCH_CLOSED'].includes(messageEvent.eventName)) {\n            metadata.frame.style.height = `${messageEvent.message.height}px`;\n        } else if (messageEvent.eventName === MessageEventName.CONTENT_LOADED) {\n            window.addEventListener('click', event => {\n                !experienceFrame.frame.contains(event.target as Node) && _close();\n            });\n        }\n    };\n\n    // We add content options into the query string of the iframe url.\n    // Some option names do not match option names that the static content expects\n    // This function converts the property names to the query string parameters that the static content expects\n    const transformContentOptions = (contentOptions: QSearchContentOptions): TransformedQSearchContentOptions => {\n        const {\n            hideIcon,\n            hideTopicName,\n            theme,\n            allowTopicSelection,\n            onMessage,\n            ...unrecognizedContentOptions\n        } = contentOptions;\n\n        const unrecognizedContentOptionNames = Object.keys(unrecognizedContentOptions);\n        if (Object.keys(unrecognizedContentOptions).length > 0) {\n            onChange?.({\n                eventName: ChangeEventName.UNRECOGNIZED_CONTENT_OPTIONS,\n                eventLevel: ChangeEventLevel.WARN,\n                message: 'Q search content options contain unrecognized properties',\n                data: {\n                    unrecognizedContentOptions: unrecognizedContentOptionNames,\n                },\n            }, {frame: null});\n            console.warn('Q search content options contain unrecognized properties');\n        }\n\n        const transformedContentOptions: TransformedQSearchContentOptions = {\n            allowTopicSelection,\n            onMessage,\n        };\n\n        if (hideIcon !== undefined) {\n            transformedContentOptions.qBarIconDisabled = hideIcon;\n        }\n\n        if (hideTopicName !== undefined) {\n            transformedContentOptions.qBarTopicNameDisabled = hideTopicName;\n        }\n\n        if (theme !== undefined) {\n            transformedContentOptions.themeId = theme;\n        }\n\n        return transformedContentOptions;\n    };\n\n    const experienceFrame = createExperienceFrame(\n        frameOptions,\n        transformContentOptions(contentOptions),\n        controlOptions,\n        internalExperience,\n        experienceIdentifier,\n        interceptMessage\n    );\n\n    const _send = async (messageEvent: SimpleMessageEvent): Promise<any> => {\n        const targetedMessageEvent: TargetedMessageEvent = {\n            ...messageEvent,\n            eventTarget: internalExperience,\n        };\n        const messageResponse = await experienceFrame.internalSend(targetedMessageEvent);\n        return messageResponse;\n    };\n\n\n    const _setQuestion = async (question: string): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.SET_Q_SEARCH_QUESTION, \n            message: {\n                question\n            },\n        });\n    };\n\n    const _close = (): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.CLOSE_Q_SEARCH,\n        });\n    };\n\n    return {\n        setQuestion: _setQuestion,\n        close: _close,\n        send: _send,\n        addEventListener: experienceFrame.internalAddEventListener,\n    };\n};\n\nexport default createQSearchFrame;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {InternalExperience, InternalQSearchExperience, QSearchExperience} from '../../types';\nimport {ExperienceType} from '../../enums';\nimport createQSearchFrame from './createQSearchFrame';\n\nconst isQSearchExperience = (experience: InternalExperience): experience is InternalQSearchExperience => {\n    return !!experience && experience.experienceType === ExperienceType.QSEARCH;\n};\n\nconst extractQSearchExperienceFromUrl = (url: string): QSearchExperience => {\n    const matches: Array<string> = /^https:\\/\\/[^/]+\\/embedding\\/[^/]+\\/q\\/search(\\/|\\?|$)/i.exec(url) || [];\n    if (matches.length < 2) {\n        return;\n    }\n    return {\n        experienceType: ExperienceType.QSEARCH,\n    };\n};\n\nconst getQSearchExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!isQSearchExperience(experience)) {\n        return;\n    }\n    const {contextId, experienceType, discriminator} = experience;\n    return [contextId, experienceType, discriminator].filter(Boolean).join('-');\n};\n\nexport {createQSearchFrame, extractQSearchExperienceFromUrl, getQSearchExperienceIdentifier, isQSearchExperience};\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {\n    ControlOptions,\n    TargetedMessageEvent,\n    ExperienceFrameMetadata,\n    FrameOptions,\n    ResponseMessage,\n    SimpleMessageEvent,\n    TransformedVisualContentOptions,\n    VisualContentOptions,\n    VisualFrame,\n    Parameter,\n} from '../../types';\nimport {ChangeEventLevel, MessageEventName, ChangeEventName} from '../../enums';\nimport createExperienceFrame from '../createExperienceFrame';\nimport {extractVisualExperienceFromUrl, getVisualExperienceIdentifier} from '.';\nimport {buildInternalExperienceInfo} from '../commons';\n\nconst createVisualFrame = (\n    frameOptions: FrameOptions,\n    contentOptions: VisualContentOptions,\n    controlOptions: ControlOptions,\n    allExperienceIdentifiers: Set<string>\n): VisualFrame => {\n    const {url, resizeHeightOnSizeChangedEvent, onChange} = frameOptions;\n    const {contextId} = controlOptions || {};\n\n    if (!url) {\n        const message = 'Url is required for the experience';\n        onChange?.({\n            eventName: ChangeEventName.NO_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message,\n        }, {frame: null});\n        throw new Error(message);\n    }\n\n    const experienceFromUrl = extractVisualExperienceFromUrl(url);\n    if (!experienceFromUrl) {\n        onChange?.({\n            eventName: ChangeEventName.INVALID_URL,\n            eventLevel: ChangeEventLevel.ERROR,\n            message: 'Invalid visual experience url',\n            data: {\n                url,\n            },\n        }, {frame: null});\n        throw new Error('Invalid visual experience url');\n    }\n    const {experienceIdentifier, internalExperience} = buildInternalExperienceInfo(\n        experienceFromUrl,\n        allExperienceIdentifiers,\n        contextId,\n        getVisualExperienceIdentifier\n    );\n\n    const interceptMessage = (messageEvent: SimpleMessageEvent, metadata: ExperienceFrameMetadata) => {\n        // Intercepting onMessage\n        // if the resizeHeightOnSizeChangedEvent is true, upon receiving SIZE_CHANGED message, update the height of the iframe\n        if (messageEvent.eventName === 'SIZE_CHANGED' && resizeHeightOnSizeChangedEvent) {\n            metadata.frame.height = `${messageEvent.message.height}px`;\n        }\n    };\n\n    // We add content options into the query string of the iframe url.\n    // Some option names do not match option names that the static content expects\n    // This function converts the property names to the query string parameters that the static content expects\n    const transformContentOptions = (contentOptions: VisualContentOptions = {}): TransformedVisualContentOptions => {\n        const {\n            fitToIframeWidth,\n            locale,\n            parameters,\n            onMessage,\n            ...unrecognizedContentOptions\n        } = contentOptions;\n\n        const unrecognizedContentOptionNames = Object.keys(unrecognizedContentOptions);\n        if (Object.keys(unrecognizedContentOptions).length > 0) {\n            onChange?.({\n                eventName: ChangeEventName.UNRECOGNIZED_CONTENT_OPTIONS,\n                eventLevel: ChangeEventLevel.WARN,\n                message: 'Visual content options contain unrecognized properties',\n                data: {\n                    unrecognizedContentOptions: unrecognizedContentOptionNames,\n                },\n            }, {frame: null});\n            console.warn('Visual content options contain unrecognized properties');\n        }\n\n        const transformedContentOptions: TransformedVisualContentOptions = {\n            fitToIframeWidth: fitToIframeWidth ?? true,\n            locale,\n            parameters,\n            onMessage,\n        };\n\n        return transformedContentOptions;\n    };\n\n    const experienceFrame = createExperienceFrame(\n        frameOptions,\n        transformContentOptions(contentOptions),\n        controlOptions,\n        internalExperience,\n        experienceIdentifier,\n        interceptMessage\n    );\n\n    const _send = async (messageEvent: SimpleMessageEvent): Promise<any> => {\n        const targetedMessageEvent: TargetedMessageEvent = {\n            ...messageEvent,\n            eventTarget: internalExperience,\n        };\n        const messageResponse = await experienceFrame.internalSend(targetedMessageEvent);\n        return messageResponse;\n    };\n\n    const _setParameters = async (parameters: Parameter[]): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.SET_PARAMETERS,\n            message: parameters,\n        });\n    };\n\n    const _reset = async (): Promise<ResponseMessage> => {\n        return _send({\n            eventName: MessageEventName.RESET,\n        });\n    };\n\n    return {\n        setParameters: _setParameters,\n        reset: _reset,\n        send: _send,\n        addEventListener: experienceFrame.internalAddEventListener,\n    };\n};\n\nexport default createVisualFrame;\n","// Copyright 2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport {InternalExperience, InternalVisualExperience, VisualExperience} from '../../types';\nimport {ExperienceType} from '../../enums';\nimport createVisualFrame from './createVisualFrame';\n\nconst isVisualExperience = (experience: InternalExperience): experience is InternalVisualExperience => {\n    return !!experience && experience.experienceType === ExperienceType.VISUAL;\n};\n\nconst extractVisualExperienceFromUrl = (url: string): VisualExperience => {\n    const matches: Array<string> = /^https:\\/\\/[^/]+\\/embed\\/[^/]+\\/dashboards\\/([\\w-]+)\\/sheets\\/([\\w-]+)\\/visuals\\/([\\w-]+)(\\?|$)/i.exec(url) || [];\n    if (matches.length < 5) {\n        return;\n    }\n    return {\n        experienceType: ExperienceType.VISUAL,\n        dashboardId: matches[1],\n        sheetId: matches[2],\n        visualId: matches[3],\n    };\n};\n\nconst getVisualExperienceIdentifier = (experience: InternalExperience): string => {\n    if (!isVisualExperience(experience)) {\n        return;\n    }\n    const {contextId, experienceType, dashboardId, sheetId, visualId, discriminator} = experience;\n    return [contextId, experienceType, dashboardId, sheetId, visualId, discriminator].filter(Boolean).join('-');\n};\n\nexport {createVisualFrame, extractVisualExperienceFromUrl, getVisualExperienceIdentifier, isVisualExperience};\n","\"use strict\";\n\n// eslint-disable-next-line func-names\nmodule.exports = function () {\n  if (typeof globalThis === \"object\") {\n    return globalThis;\n  }\n\n  var g;\n\n  try {\n    // This works if eval is allowed (see CSP)\n    // eslint-disable-next-line no-new-func\n    g = this || new Function(\"return this\")();\n  } catch (e) {\n    // This works if the window reference is available\n    if (typeof window === \"object\") {\n      return window;\n    } // This works if the self reference is available\n\n\n    if (typeof self === \"object\") {\n      return self;\n    } // This works if the global reference is available\n\n\n    if (typeof global !== \"undefined\") {\n      return global;\n    }\n  }\n\n  return g;\n}();","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7F]/; // Note: U+007F DEL is excluded too.\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, callback) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = callback(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {String} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(domain, callback) {\n\tconst parts = domain.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tdomain = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tdomain = domain.replace(regexSeparators, '\\x2E');\n\tconst labels = domain.split('.');\n\tconst encoded = map(labels, callback).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = codePoints => String.fromCodePoint(...codePoints);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint >= 0x30 && codePoint < 0x3A) {\n\t\treturn 26 + (codePoint - 0x30);\n\t}\n\tif (codePoint >= 0x41 && codePoint < 0x5B) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint >= 0x61 && codePoint < 0x7B) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tconst oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\t\t\tif (digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tconst inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tconst basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue === n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount === basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index-exposed.ts\");\n"],"names":["___EXPOSE_LOADER_IMPORT___","require","module","exports","createSvgElement","tagName","attributes","children","arguments","length","undefined","element","document","createElementNS","Object","entries","forEach","_ref","_ref2","_slicedToArray","name","value","setAttribute","child","appendChild","circles","map","i","animate","attributeName","dur","values","repeatCount","begin","concat","fill","stroke","cx","cy","r","loaderSVG","version","x","y","viewBox","style","options","iframePlaceholder","id","src","_options$width","width","_options$height","height","container","onLoad","loading","withIframePlaceholder","payload","className","iframeName","createElement","backgroundColor","display","justifyContent","alignItems","endsWith","_className","push","postRequest","iframe","join","trim","border","padding","opacity","position","error","postRequestOptions","target","form","visibility","method","action","keys","payloadItem","input","type","submit","remove","createPostRequest","addEventListener","event","_postRequest","transition","SDK_VERSION","FRAME_TIMEOUT","isMessageEvent","messageEvent","eventTarget","eventName","isPostMessageEvent","eventId","getUrlInfo","url","matches","exec","guid","host","urlSearchParams","URLSearchParams","buildExperienceUrl","baseUrl","internalExperience","parameters","otherOptions","_objectWithoutProperties","_excluded","contextId","discriminator","fullQueryStringArray","queryString","_typeof","filteredOptions","reduce","newOptions","key","punyCodeEmbedOrigin","encode","window","location","origin","toString","buildQueryString","_objectSpread","clientTime","Date","now","sdkVersion","parametersString","_ref3","_ref4","encodedName","encodeURIComponent","paramValue","encodedValue","buildParametersString","fullQueryString","baseUrlString","includes","wait","_ref5","_asyncToGenerator","_regeneratorRuntime","_callee","delay","_args","_context","prev","next","abrupt","Promise","resolve","setTimeout","stop","apply","_callee5","frameOptions","_document$getElements","_ref2$onChange","onChange","allExperienceIdentifiers","eventManager","body","controlOptions","buildControlOptions","validateFrameOptions","embedVisual","embedDashboard","embedConsole","embedQSearchBar","embeddingContext","_context5","v4","Set","eventManagerBuilder","getElementsByTagName","ChangeEventName","eventLevel","ChangeEventLevel","message","frame","Error","urlInfo","internalSend","createControlFrame","sendToControlFrame","timeout","methodName","errorMessage","data","Array","isArray","frameOptionsType","resizeHeightOnSizeChangedEvent","onExperienceChange","unrecognizedFrameOptions","unrecognizedFrameOptionNames","warnMessage","console","warn","contentOptions","createVisualFrame","_x2","_x3","_callee2","_context2","createDashboardFrame","_x4","_x5","_callee3","_context3","createConsoleFrame","_x6","_x7","_ref6","_callee4","_context4","createQSearchFrame","_x8","_x9","_x","InfoMessageEventName","SetterMessageEventName","GetterMessageEventName","InvokerMessageEventName","MessageEventName","InfoChangeEventName","ErrorChangeEventName","WarnChangeEventName","ExperienceType","eventListeners","Map","experienceIdentifier","listener","has","set","get","invokeEventListener","removeEventListener","remainingListeners","filter","listenerItem","experienceEventListenerBuilder","onMessage","addExperienceEventListener","invokeExperienceEventListener","removeExperienceEventListener","getExperienceIdentifier","experience","isVisualExperience","getVisualExperienceIdentifier","isDashboardExperience","getDashboardExperienceIdentifier","isConsoleExperience","getConsoleExperienceIdentifier","isContextExperience","getContextExperienceIdentifier","isQSearchExperience","getQSearchExperienceIdentifier","isControlExperience","getControlExperienceIdentifier","buildInternalExperienceInfo","add","experienceFromUrl","extractConsoleExperienceFromUrl","_buildInternalExperie","experienceFrame","createExperienceFrame","locale","unrecognizedContentOptions","unrecognizedContentOptionNames","transformContentOptions","_send","targetedMessageEvent","messageResponse","sent","send","internalAddEventListener","experienceType","Boolean","controlUrl","getControlExperienceBaseUrl","href","_createExperienceFram","_window$requestIdleCa","_window","acknowledgment","_messageEvent","incomingExperienceIdentifier","requestIdleCallback","call","_experience","urlString","URL","interceptMessage","_container","_frameOptions$width","_frameOptions$height","experienceIframe","_onChange","changeEvent","querySelector","nodeName","_url","_controlOptions$timeo","contentOptionsWithoutOnMessage","_experienceEventListe","metadata","timeoutInstance","sendToOwnFrame","_message","timestamp","contentWindow","postMessage","success","reject","eventHandler","sendMethod","onLoadHandler","clearTimeout","createIframe","handler","extractDashboardExperienceFromUrl","_toolbarOptions$expor","attributionOptions","sheetOptions","toolbarOptions","transformedContentOptions","parametersAsObject","parameter","Name","Values","overlayContent","footerPaddingEnabled","print","printEnabled","undoRedo","undoRedoDisabled","reset","resetDisabled","initialSheetId","sheetId","singleSheet","sheetTabsDisabled","emitSizeChangedEventOnSheetChange","resizeOnSheetChange","_setParameters","_initiatePrint","_undo","_redo","_reset","_ref7","_callee6","_context6","_getParameters","_ref8","_callee7","_context7","_getSheets","_ref9","_callee8","_context8","_getSelectedSheetId","_ref10","_callee9","_context9","_navigateToDashboard","_ref11","_callee10","dashboardId","navigateToDashboardOptions","_context10","DashboardId","Parameters","_setSelectedSheetId","_ref12","_callee11","_context11","SheetId","getParameters","getSheets","getSelectedSheetId","initiatePrint","navigateToDashboard","setSelectedSheetId","setParameters","undo","redo","extractQSearchExperienceFromUrl","hideIcon","hideTopicName","theme","allowTopicSelection","qBarIconDisabled","qBarTopicNameDisabled","themeId","contains","_close","_setQuestion","question","setQuestion","close","extractVisualExperienceFromUrl","fitToIframeWidth","visualId","globalThis","g","this","Function","e","self","maxInt","base","regexPunycode","regexNonASCII","regexSeparators","errors","floor","Math","stringFromCharCode","String","fromCharCode","RangeError","mapDomain","domain","callback","parts","split","result","encoded","array","replace","ucs2decode","string","output","counter","charCodeAt","extra","ucs2encode","codePoints","fromCodePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","decode","inputLength","n","bias","basic","lastIndexOf","j","index","oldi","w","codePoint","t","baseMinusT","out","splice","currentValue","basicLength","handledCPCount","m","handledCPCountPlusOne","q","qMinusT","toUnicode","test","slice","toLowerCase","toASCII","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","byteToHex","unsafeStringify","arr","offset","uuid","TypeError","buf","rnds","random","__esModule","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","state","done","delegate","delegateResult","maybeInvokeDelegate","_sent","dispatchException","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","async","iter","val","object","reverse","pop","skipTempReset","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","_arrayLikeToArray","len","arr2","_arrayWithHoles","asyncGeneratorStep","gen","_next","_throw","args","_defineProperty","_iterableToArrayLimit","_i","_s","_e","_r","_arr","_n","_d","_nonIterableRest","source","excluded","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","_objectWithoutPropertiesLoose","sourceKeys","_toPrimitive","hint","prim","toPrimitive","res","Number","_toPropertyKey","_unsupportedIterableToArray","o","minLen","from","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","d","a","definition","prop"],"sourceRoot":""}